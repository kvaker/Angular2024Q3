<app-header
  (sortByChanged)="onSortByChanged($event)"
  (searchTermChanged)="onSearch($event)"
></app-header>

<main>
  <div *ngIf="searchResultsWithStats$ | async as searchResults; else loading">
    <div *ngIf="searchResults && searchResults.length; else noResults">
      <section class="card-board" *ngIf="searchResults.length">
        <div class="card-container">
          <app-search-item
            *ngFor="let item of searchResults"
            class="card"
            [searchItem]="item"
          ></app-search-item>
        </div>
      </section>
    </div>
    <ng-template #noResults>
      <p>No results found.</p>
    </ng-template>
  </div>

  <ng-template #loading>
    <p>Loading results...</p>
  </ng-template>
</main>
