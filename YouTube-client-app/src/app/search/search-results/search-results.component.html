<app-header
  (sortByChanged)="onSortByChanged($event)"
  (searchTermChanged)="onSearch($event)"
></app-header>

<main>
  <div *ngIf="searchResults$() as searchResults; else loading">
    <div *ngIf="filteredResults && filteredResults.length; else noResults">
      <p>Results Count: {{ filteredResults.length }}</p>
      <section class="card-board" *ngIf="filteredResults.length">
        <div class="card-container">
          <app-search-item
            *ngFor="let item of filteredResults"
            class="card"
            [searchItem]="item"
          ></app-search-item>
        </div>
      </section>
    </div>
    <ng-template #noResults>
      <p>No results found.</p>
    </ng-template>
  </div>

  <ng-template #loading>
    <p>Loading results...</p>
  </ng-template>
</main>
